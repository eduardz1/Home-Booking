\documentclass[letterpaper]{report}
\usepackage[utf8]{inputenc}
\usepackage{csvsimple}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}

\title{
    \leavevmode{\includegraphics[width=0.8\textwidth]{resources/Universita-degli-studi-di-torino-logo.png}\newline\newline}\\
    Progetto di Piattaforma di Home Booking \\
    \large Laboratorio Basi di Dati 2021/2022
}
\author{Eduard Antonovic Occhipinti, Iman Solaih, Marco Molica}

\begin{document}
\maketitle
\tableofcontents

\chapter{Progettazione Concettuale}
\section{Requisiti Iniziali}
Si vuole realizzare una base di dati per un servizio che permette di affittare e prenotare
alloggi di vario tipo ad esempio interi appartamenti, stanze private (camera privata e spazi
comuni) e stanze condivise (spazio in comune e camera condivisa).\newline
Gli utenti si registrano al servizio fornendo indirizzo email, password, nome, cognome,
numero o numeri di telefono. Se l’utente fornisce la foto della carta d’identità, viene
riconosciuto come verificato. Inoltre, l’utente deve indicare un metodo di pagamento per
poter prenotare. Gli utenti possono essere ospiti o “host” ovvero possono a loro volta
ospitare altri utenti del servizio in uno o più alloggi di loro proprietà. Inoltre gli “host” possono
diventare “superhost” se soddisfano i seguenti requisiti:
\begin{itemize}
    \item Devono aver completato almeno 10 soggiorni, per un totale di almeno 100 notti.
    \item Devono aver conservato un tasso di cancellazione dell'1\% (una cancellazione ogni
    100 prenotazioni) massimo.
    \item Devono aver mantenuto una valutazione complessiva di 4,8 \newline considerando tutti i
    soggiorni in tutte le case di sua proprietà.
\end{itemize}
Gli utenti superhost ricevono un badge sul loro profilo.
\newline
\newline
Gli alloggi sono descritti indicando un nome, l’indirizzo (visibile all’ospite solo quando la
prenotazione è confermata, altrimenti è visibile solo il comune), una descrizione, il prezzo per
notte per persona e i costi di pulizia, delle foto, i servizi (ad esempio, cucina, wi-fi, lavatrice,
ecc.), numero di letti e orario di check-in e check-out oltre all’host a cui appartiene, il rating
medio e il numero di recensioni (vedere Fig. 1).
\newline
\newline
Gli utenti possono aggiungere alcune case tra i preferiti. Gli utenti possono avere diverse
liste, ad esempio in base al viaggio che vogliono compiere.
\newline
\newline
Gli utenti possono prenotare degli alloggi di qualsiasi tipo indicando un intervallo di date per il
soggiorno e il numero degli ospiti. Se gli ospiti sono a loro volta utenti del servizio, se ne
possono indicare i nominativi. La prenotazione deve essere confermata o rifiutata dall’host.
La prenotazione ha un costo totale e se confermata viene eseguito il pagamento. Inoltre, la
prenotazione può essere cancellata sia dall’ospite che dall’host.
\newline
\newline
Al termine del soggiorno, gli ospiti e gli host si possono valutare a vicenda. La recensione
fatta dagli ospiti comprende due testi (uno per l’appartamento e uno per l’host) e una serie di
punteggi in una scala da 1 a 5 su dimensioni come pulizia, comunicazione, posizione,
qualità/prezzo. La valutazione complessiva del soggiorno è una media delle valutazioni
ricevute sulle singole dimensioni. Le recensioni degli host comprendono solo un commento
testuale. Le recensioni possono essere visibili o non visibili. Diventano visibili quando
entrambi hanno fatto la recensione oppure se uno dei due non ha fatto la recensione, l’altra
diventa visibile dopo 7 giorni dalla fine del soggiorno. Gli host e gli ospiti possono
commentare più volte le review in cui sono coinvolti, creando un thread di discussione.
Le recensioni sono visibili sui profili degli utenti suddivise in base a quelle ricevute come
ospite e come host. La base di dati deve supportare le seguenti operazioni:
\begin{itemize}
    \item Una volta a settimana viene effettuato un calcolo per aggiornare il tasso di
    cancellazione di ciascun host.
    \item Una volta al giorno si controllano le condizioni per la qualifica di superhost e viene
    aggiornato lo status degli host.
    \item Una volta al mese viene calcolata la classifica degli alloggi più graditi.
\end{itemize}

\section{Glossario dei Termini}
\csvreader[
    tabular = |l|p{4cm}|p{2cm}|p{4cm}|,
    table head = \hline\bfseries Termine & \bfseries Descrizione & \bfseries Sinonimi & \bfseries Collegamenti\\\hline,
    late after line = \\\hline
]{../glossario.csv}{}{
    \csvcoli & \csvcolii & \csvcoliii & \csvcoliv
}

\section{Requisiti rivisti e strtturati in gruppi di frasi omogenee}
Si vuole realizzare una base di dati per un servizio che permette di affittare e prenotare
alloggi di vario tipo ad esempio interi appartamenti, stanze private.
\newline
\newline
Per il dato utente registriamo: indirizzo email, password, nome, cognome, numeri di telefono, carta di identità, metodo di pagamento.
\newline
\newline
Per il dato host registriamo: superhost.
\newline
\newline
Per il dato soggiorno registriamo: data inizio, data fine, idalloggio, idprenotazione.
Ogni utente può avere 0 o più soggiorni.
\newline
\newline
Per il dato alloggio registriamo: nome, indirizzo, comune, descrizione, costo per notte per  persona, costo pulizia, numero di letti, orario check-in, orario check-out, rating medio(?)
Ogni host può possedere uno o più alloggi. Ad ogni alloggio sono associate 0 o più foto. Ogni alloggio offre 0 o più servizi. Per ogni alloggio sono scritte 0 o più recensioni.
\newline
\newline
Gli host per diventare superhost devono soddisfare i  seguenti requisiti:
\begin{itemize}
    \item Devono aver completato almeno 10 soggiorni, per un totale di almeno 100 notti.
    \item Devono aver conservato un tasso di cancellazione dell'1\% 
    (una cancellazione ogni 100 prenotazioni) massimo.
    \item Devono aver mantenuto una valutazione complessiva di 4,8 considerando 
    tutti i soggiorni in tutte le case di sua proprietà
\end{itemize}
Ogni utente può aggiungere 0 o più alloggi tra i preferiti e creare 0 più liste.
Per il dato lista registriamo: descrizione, nome
\newline
\newline
Per il dato prenotazione registriamo: costo prenotazione, idalloggio, stato, numero ospiti, id metodo di pagamento. Ogni prenotazione sarà associata ad un utente ed un host, potrà avere 0 o più ospiti associati. La prenotazione può essere cancellata sia dall'ospite che dall'host: verrà aggiornato lo stato.
\newline
\newline
Al termine del soggiorno, gli ospiti e gli host si possono valutare a vicenda. 
Per il dato recensione registriamo: visibilità, data, idautore, idutente, 
idalloggio, testo, valutazione pulizia, valutazione comunicazione, valutazione 
posizione, valutazione qualità-prezzo.
\newline
\newline
Le recensioni possono essere visibili o non visibili. Diventano visibili quando
entrambi hanno fatto la recensione oppure se uno dei due non ha fatto la recensione, l’altra
diventa visibile dopo 7 giorni dalla fine del soggiorno
\newline
\newline
Per il dato commento registriamo: idautore, testo, idrecensione
Gli host e gli ospiti possono commentare più volte le review in cui sono coinvolti, 
creando un thread di discussione.
\newline
\newline
Il sistema deve supportare le seguenti operazioni:
\begin{itemize}
    \item Una volta a settimana viene effettuato un calcolo per aggiornare 
    il tasso di cancellazione di ciascun host.
    \item Una volta al giorno si controllano le condizioni per la qualifica di 
    superhost e viene aggiornato lo status degli host.
    \item Una volta al mese viene calcolata la classifica degli alloggi più graditi
\end{itemize}

\section{Schema E-R + Business Rules}

\chapter{Progettazione Logica}
\section{Tavola dei Volumi}
\section{Tavola delle Operazioni}
\section{Ristrutturazione dello schema E-R}
\subsection{Analisi delle Ridondanze}
\subsection{Eliminazione delle Generalizzazioni}
\subsection{Partizionamento/Accorpamento di entità e associazioni}
\subsection{Eeventuale scelta degli identificatori principali}
\section{Schema E-R ristrutturato + Business Rules}
\section{Schema Relazionale}

\chapter{Implementazione}
\section{DDL di Creazione dei Database}
\section{DML di Popolamento di Tutte le Tabelle del Database}
\section{Qualche Operazione di cancellazione e modifica}

\end{document}